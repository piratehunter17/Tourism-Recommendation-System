<!doctype html>
<html class="no-js" lang="en">

<head>
    <!-- meta data -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!--font-family-->
    <link
        href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- title of site -->
    <title>Crimson Adventures</title>

    <!-- For favicon png -->
    <link rel="shortcut icon" type="image/icon" href="{{ url_for('static', filename='logo/favicon.png') }}" />

    <!--font-awesome.min.css-->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/font-awesome.min.css') }}">

    <!--linear icon css-->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/linearicons.css') }}">

    <!--animate.css-->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/animate.css') }}">

    <!--flaticon.css-->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/flaticon.css') }}">

    <!--slick.css-->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/slick.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/slick-theme.css') }}">

    <!--bootstrap.min.css-->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">

    <!-- bootsnav -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootsnav.css') }}">

    <!--style.css-->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <!--responsive.css-->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/responsive.css') }}">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->

    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Custom CSS -->
    <!-- Custom Admin Dashboard CSS -->
    <style>
        .content-section {
            background-color: #000000;
            color: white;
            font-family: 'Poppins', sans-serif;
        }

        .content-section {
            padding: 50px;
        }

        h2 {
            color: white;
            font-size: 28px;
            text-transform: uppercase;
            margin-bottom: 30px;
        }

        table {
            width: 100%;
            margin-bottom: 30px;
            color: white;
            border-collapse: collapse;
            text-align: left;
        }

        th,
        td {
            padding: 15px;
            border-bottom: 1px solid #fff;
        }

        th {
            background-color: #ff545a;
            color: white;
            font-weight: 600;
        }

        td {
            background-color: #1e1e1e;
        }

        .btn {
            padding: 10px 15px;
            border-radius: 5px;
            background-color: #ff545a;
            color: white;
            border: none;
            font-size: 14px;
            cursor: pointer;
            margin-right: 10px;
            -webkit-transition: 0.3s linear;
            -moz-transition: 0.3s linear;
            -ms-transition: 0.3s linear;
            -o-transition: 0.3s linear;
            transition: 0.3s linear;
        }

        .btn:hover {
            background: #f43032;
            color: white;
        }


        /* Modal Custom Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            padding-top: 100px;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.8);
            color: black;
        }

        .modal-content {
            background-color: #fff;
            margin: auto;
            padding: 20px;
            border: none;
            border-radius: 8px;
            width: 50%;
            max-width: 700px;
            box-shadow: 0 0 15px rgba(255, 84, 90, 0.3);
            position: relative;
            text-align: left;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
        }

        .modal form label {
            font-weight: bold;
            margin-top: 15px;
            display: block;
        }

        .modal form input,
        .modal form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .modal form button {
            background-color: #ff545a;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .modal form button:hover {
            background-color: #ff4347;
        }
    </style>

</head>

<body>
    <!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->

    <!--header-top start -->

    <!-- top-area Start -->
    <section class="top-area">
        <div class="header-area">
            <!-- Start Navigation -->
            <nav class="navbar navbar-default bootsnav  navbar-sticky navbar-scrollspy" data-minus-value-desktop="70"
                data-minus-value-mobile="55" data-speed="1000">

                <div class="container">

                    <!-- Start Header Navigation -->
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
                            <i class="fa fa-bars"></i>
                        </button>
                        <a class="navbar-brand" href="index.html">Dash<span>Board</span></a>

                    </div><!--/.navbar-header-->
                    <!-- End Header Navigation -->

                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse menu-ui-design" id="navbar-menu">
                        <ul class="nav navbar-nav navbar-right" data-in="fadeInDown" data-out="fadeOutUp">
                            <li class="scroll"><a href="#accounts">Accounts</a></li>
                            <li class="scroll"><a href="#reviews">Reviews</a></li>
                        </ul><!--/.nav -->
                    </div><!-- /.navbar-collapse -->
                </div><!--/.container-->
            </nav><!--/nav-->
            <!-- End Navigation -->
        </div><!--/.header-area-->
        <div class="clearfix"></div>

    </section><!-- /.top-area-->
    <!-- top-area End -->

    <!-- Main Content Start -->
    <div class="content-section">
        <h2 id="accounts">Manage Accounts</h2>
        <!-- Table for displaying accounts -->
        <table>
            <thead>
                <tr>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for account in accounts %}
                <tr>
                    <td>{{ account.username }}</td>
                    <td>{{ account.email }}</td>
                    <td>
                        <!-- Edit Button -->
                        <button class="btn" onclick="openModal('editModal{{ account.id }}')">Edit</button>
                        <!-- Delete Button -->
                        <button class="btn" onclick="openModal('deleteModal{{ account.id }}')">Delete</button>
                    </td>
                </tr>

                <!-- Edit Account Modal -->
                <div id="editModal{{ account.id }}" class="modal">
                    <div class="modal-content">
                        <span class="close" onclick="closeModal('editModal{{ account.id }}')">&times;</span>
                        <h2>Edit Account</h2>
                        <form action="{{ url_for('edit_account', account_id=account.id) }}" method="POST">
                            <label for="username">Username:</label>
                            <input type="text" name="username" value="{{ account.username }}" required>

                            <label for="email">Email:</label>
                            <input type="email" name="email" value="{{ account.email }}" required>

                            <br><br>

                            <button type="submit" class="btn">Save Changes</button>
                        </form>
                    </div>
                </div>

                <!-- Delete Account Modal -->
                <div id="deleteModal{{ account.id }}" class="modal">
                    <div class="modal-content">
                        <span class="close" onclick="closeModal('deleteModal{{ account.id }}')">&times;</span>
                        <h2>Delete Account</h2>
                        <p>Are you sure you want to delete the account of {{ account.username }}?</p>
                        <form action="{{ url_for('delete_account', account_id=account.id) }}" method="POST">
                            <button type="submit">Yes, Delete</button>
                        </form>
                    </div>
                </div>
                {% endfor %}
            </tbody>
        </table>

        <!-- Button to trigger Create Account Modal -->
        <button class="btn" onclick="openModal('createAccountModal')">Create New Account</button>

        <br><br><br><br>

        <!-- Create Account Modal -->
        <div id="createAccountModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal('createAccountModal')">&times;</span>
                <h2>Create New Account</h2>
                <form action="{{ url_for('create_account') }}" method="POST">
                    <label for="username">Username:</label>
                    <input type="text" name="username" required>

                    <label for="email">Email:</label>
                    <input type="email" name="email" required>

                    <label for="password">Password:</label>
                    <input type="password" name="password" required>

                    <button type="submit">Create Account</button>
                </form>
            </div>
        </div>

        <h2 id="reviews">Manage Reviews</h2>
        <!-- Table for displaying reviews -->
        <table>
            <thead>
                <tr>
                    <th>Username</th>
                    <th>Review</th>
                    <th>Rating</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for review in reviews %}
                <tr>
                    <td>{{ review.username }}</td>
                    <td>{{ review.review_text }}</td>
                    <td>{{ review.rating }}</td>
                    <td>
                        <button class="btn" onclick="openModal('deleteReviewModal{{ review.id }}')">Delete</button>
                    </td>
                </tr>

                <!-- Delete Review Modal -->
                <div id="deleteReviewModal{{ review.id }}" class="modal">
                    <div class="modal-content">
                        <span class="close" onclick="closeModal('deleteReviewModal{{ review.id }}')">&times;</span>
                        <h2>Delete Review</h2>
                        <p>Are you sure you want to delete the review by {{ review.username }}?</p>
                        <form action="{{ url_for('delete_review', review_id=review.id) }}" method="POST">
                            <button type="submit">Yes, Delete</button>
                        </form>
                    </div>
                </div>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <!-- Main Content End -->

    <!--footer start-->
    <footer id="footer" class="footer">
        <div class="container">
            <div class="footer-menu">
                <div class="row">
                    <div class="col-sm-3">
                        <div class="navbar-header">
                            <a class="navbar-brand" href="index.html">Crimson<span>Adventures</span></a>
                        </div><!--/.navbar-header-->
                    </div>
                    <div class="col-sm-9">
                        <ul class="footer-menu-item">
                            <li class="scroll"><a href="#accounts">Accounts</a></li>
                            <li class="scroll"><a href="#reviews">Reviews</a></li>
                        </ul><!--/.nav -->
                    </div>
                </div>
            </div>
            <div class="hm-footer-copyright">
                <div class="row">
                    <div class="col-sm-5">
                        <p> &copy;Copyrights Reserved </p><!--/p-->
                        <p>Designed and developed by <a href="">RizzGodHarish & Co</a></p>
                    </div>
                    <div class="col-sm-7">
                        <div class="footer-social">
                            <span><i class="fa fa-phone"> +91 1234567890</i></span>
                            <a href="#"><i class="fa fa-facebook"></i></a>
                            <a href="#"><i class="fa fa-twitter"></i></a>
                            <a href="#"><i class="fa fa-linkedin"></i></a>
                            <a href="#"><i class="fa fa-google-plus"></i></a>
                        </div>
                    </div>
                </div>

            </div><!--/.hm-footer-copyright-->
        </div><!--/.container-->

        <div id="scroll-Top">
            <div class="return-to-top">
                <i class="fa fa-angle-up " id="scroll-top" data-toggle="tooltip" data-placement="top" title=""
                    data-original-title="Back to Top" aria-hidden="true"></i>
            </div>

        </div><!--/.scroll-Top-->

    </footer><!--/.footer-->
    <!--footer end-->

    <!-- Include all js compiled plugins (below), or include individual files as needed -->

    <!-- jQuery -->
    <script src="{{ url_for('static', filename='js/jquery.js') }}"></script>

    <!-- modernizr.min.js (external link, keep as-is) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>

    <!-- bootstrap.min.js -->
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>

    <!-- bootsnav js -->
    <script src="{{ url_for('static', filename='js/bootsnav.js') }}"></script>

    <!-- feather.min.js -->
    <script src="{{ url_for('static', filename='js/feather.min.js') }}"></script>

    <!-- counter js -->
    <script src="{{ url_for('static', filename='js/jquery.counterup.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/waypoints.min.js') }}"></script>

    <!-- slick.min.js -->
    <script src="{{ url_for('static', filename='js/slick.min.js') }}"></script>

    <!-- jQuery easing (external link, keep as-is) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>

    <!-- Custom JS -->
    <script src="{{ url_for('static', filename='js/custom.js') }}"></script>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JS for Modal Handling -->
    <script>
        function openModal(modalId) {
            document.getElementById(modalId).style.display = "block";
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = "none";
        }
    </script>
</body>

</html>